(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1290:()=>{},1402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return w},handleClientScriptLoad:function(){return m},initScriptLoader:function(){return f}});let i=n(8140),a=n(9417),r=n(5155),o=i._(n(7650)),s=a._(n(2115)),l=n(2073),c=n(4681),u=n(4853),d=new Map,p=new Set,y=e=>{let{src:t,id:n,onLoad:i=()=>{},onReady:a=null,dangerouslySetInnerHTML:r,children:s="",strategy:l="afterInteractive",onError:u,stylesheets:y}=e,m=n||t;if(m&&p.has(m))return;if(d.has(t)){p.add(m),d.get(t).then(i,u);return}let f=()=>{a&&a(),p.add(m)},g=document.createElement("script"),w=new Promise((e,t)=>{g.addEventListener("load",function(t){e(),i&&i.call(this,t),f()}),g.addEventListener("error",function(e){t(e)})}).catch(function(e){u&&u(e)});r?(g.innerHTML=r.__html||"",f()):s?(g.textContent="string"==typeof s?s:Array.isArray(s)?s.join(""):"",f()):t&&(g.src=t,d.set(t,w)),(0,c.setAttributesFromProps)(g,e),"worker"===l&&g.setAttribute("type","text/partytown"),g.setAttribute("data-nscript",l),y&&(e=>{if(o.default.preinit)return e.forEach(e=>{o.default.preinit(e,{as:"style"})});{let t=document.head;e.forEach(e=>{let n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)})}})(y),document.body.appendChild(g)};function m(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,u.requestIdleCallback)(()=>y(e))}):y(e)}function f(e){e.forEach(m),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");p.add(t)})}function g(e){let{id:t,src:n="",onLoad:i=()=>{},onReady:a=null,strategy:c="afterInteractive",onError:d,stylesheets:m,...f}=e,{updateScripts:g,scripts:w,getIsSsr:z,appDir:h,nonce:k}=(0,s.useContext)(l.HeadManagerContext);k=f.nonce||k;let b=(0,s.useRef)(!1);(0,s.useEffect)(()=>{let e=t||n;b.current||(a&&e&&p.has(e)&&a(),b.current=!0)},[a,t,n]);let P=(0,s.useRef)(!1);if((0,s.useEffect)(()=>{if(!P.current){if("afterInteractive"===c)y(e);else"lazyOnload"===c&&("complete"===document.readyState?(0,u.requestIdleCallback)(()=>y(e)):window.addEventListener("load",()=>{(0,u.requestIdleCallback)(()=>y(e))}));P.current=!0}},[e,c]),("beforeInteractive"===c||"worker"===c)&&(g?(w[c]=(w[c]||[]).concat([{id:t,src:n,onLoad:i,onReady:a,onError:d,...f,nonce:k}]),g(w)):z&&z()?p.add(t||n):z&&!z()&&y({...e,nonce:k})),h){if(m&&m.forEach(e=>{o.default.preinit(e,{as:"style"})}),"beforeInteractive"===c)if(!n)return f.dangerouslySetInnerHTML&&(f.children=f.dangerouslySetInnerHTML.__html,delete f.dangerouslySetInnerHTML),(0,r.jsx)("script",{nonce:k,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...f,id:t}])+")"}});else return o.default.preload(n,f.integrity?{as:"script",integrity:f.integrity,nonce:k,crossOrigin:f.crossOrigin}:{as:"script",nonce:k,crossOrigin:f.crossOrigin}),(0,r.jsx)("script",{nonce:k,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([n,{...f,id:t}])+")"}});"afterInteractive"===c&&n&&o.default.preload(n,f.integrity?{as:"script",integrity:f.integrity,nonce:k,crossOrigin:f.crossOrigin}:{as:"script",nonce:k,crossOrigin:f.crossOrigin})}return null}Object.defineProperty(g,"__nextScript",{value:!0});let w=g;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3544:(e,t,n)=>{"use strict";n.d(t,{LanguageProvider:()=>d,o:()=>p});var i=n(5155),a=n(3809),r=n(2115),o=n(5798);let s=JSON.parse('{"tagline":"Your magical learning companion","hint":"Tap the orb to start a conversation with Primer","loading":"Loading your settings…","cta":{"start":"Click to start","endChat":"End Chat","listeningHint":"Just start speaking! Primer is listening and will respond automatically.","mutedHint":"Primer is saying hello—your microphone will open in just a moment."},"state":{"idle":"Ready to chat","muted":"Getting ready...","listening":"Listening...","thinking":"Thinking...","speaking":"Speaking..."},"aria":{"connect":"Connect to Primer","connected":"Connected - speak to Primer"},"errors":{"apiKeyMissing":"Please set your OpenAI API key in settings first!","session":"Realtime session error. Please check the console for details."},"prompt":{"languageInstruction":"Please respond in English.","welcome":"Speak a short, encouraging welcome so the child knows you are ready to chat. Say something like: \\"Hi there! I\'m Primer, your learning buddy. What would you like to explore today?\\""}}'),l=JSON.parse('{"tagline":"Twoja magiczna towarzyszka nauki","hint":"Dotknij kuli, aby rozpocząć rozmowę z Primer","loading":"Wczytywanie ustawień…","cta":{"start":"Kliknij, aby rozpocząć","endChat":"Zakończ rozmowę","listeningHint":"Po prostu zacznij m\xf3wić! Primer słucha i odpowie automatycznie.","mutedHint":"Primer wita się — mikrofon włączy się za chwilę."},"state":{"idle":"Gotowa do rozmowy","muted":"Przygotowuję się...","listening":"Słucham...","thinking":"Myślę...","speaking":"M\xf3wię..."},"aria":{"connect":"Połącz z Primer","connected":"Połączono — m\xf3w do Primer"},"errors":{"apiKeyMissing":"Najpierw ustaw sw\xf3j klucz API OpenAI w ustawieniach!","session":"Błąd sesji Realtime. Sprawdź konsolę, aby poznać szczeg\xf3ły."},"prompt":{"languageInstruction":"Proszę odpowiadać po polsku.","welcome":"Przywitaj się kr\xf3tko i serdecznie, aby dziecko wiedziało, że jesteś gotowa do rozmowy. Powiedz coś w stylu: \\"Cześć! Jestem Primer, Twoja towarzyszka nauki. O czym chcesz dziś porozmawiać?\\""}}'),c={en:{orb:s,settings:JSON.parse('{"openButton":"Settings","title":"Parent Settings","description":"Configure Primer\'s behavior and connection settings","language":{"label":"Language","description":"Choose how Primer and the interface speak. This also updates the system prompt automatically.","options":{"en":"English","pl":"Polski"}},"apiKey":{"label":"OpenAI API Key","hint":"Your API key is stored locally in your browser and never sent to our servers. When you connect, it\'s exchanged for a short-lived ephemeral key for secure WebRTC communication. Get your key from <link>OpenAI\'s platform</link>."},"prompt":{"label":"System Prompt","reset":"Reset to Default","description":"Customize how Primer interacts with your child. This prompt guides the AI\'s personality and behavior.","default":"You are Primer, a magical learning companion for children inspired by \\"The Young Lady\'s Illustrated Primer\\" from Neal Stephenson\'s Diamond Age.\\n\\nYour role is to:\\n- Be warm, encouraging, and patient\\n- Explain concepts in age-appropriate ways\\n- Ask thoughtful questions to encourage curiosity\\n- Celebrate learning and discovery\\n- Keep conversations safe and educational\\n- Use storytelling to make learning engaging\\n\\nAlways maintain a friendly, supportive tone and adapt your explanations to the child\'s level of understanding."},"actions":{"save":"Save Settings","saved":"✓ Settings saved successfully!"},"notes":{"content":"<strong>Note:</strong> Changes take effect the next time you start a conversation with Primer."}}')},pl:{orb:l,settings:JSON.parse('{"openButton":"Ustawienia","title":"Ustawienia rodzica","description":"Skonfiguruj zachowanie i ustawienia połączenia Primer","language":{"label":"Język","description":"Wybierz, w jakim języku m\xf3wi Primer i interfejs. To ustawienie automatycznie aktualizuje prompt systemowy.","options":{"en":"Angielski","pl":"Polski"}},"apiKey":{"label":"Klucz API OpenAI","hint":"Tw\xf3j klucz API jest przechowywany lokalnie w przeglądarce i nigdy nie trafia na nasze serwery. Podczas łączenia jest wymieniany na kr\xf3tkotrwały klucz efemeryczny dla bezpiecznej komunikacji WebRTC. Pobierz klucz z <link>platformy OpenAI</link>."},"prompt":{"label":"Prompt systemowy","reset":"Przywr\xf3ć domyślny","description":"Dostosuj spos\xf3b, w jaki Primer rozmawia z Twoim dzieckiem. Ten prompt określa osobowość i zachowanie AI.","default":"Jesteś Primer, magiczną towarzyszką nauki dla dzieci inspirowaną \\"Ilustrowanym elementarzem dla dziewczynek\\" Neala Stephensona z powieści \\"Diamentowy wiek\\".\\n\\nTwoja rola to:\\n- Być ciepłą, wspierającą i cierpliwą\\n- Wyjaśniać zagadnienia w spos\xf3b dostosowany do wieku\\n- Zadawać przemyślane pytania, by pobudzać ciekawość\\n- Świętować naukę i odkrycia\\n- Dbać, by rozmowy były bezpieczne i edukacyjne\\n- Wykorzystywać opowieści, by nauka była angażująca\\n\\nZawsze zachowuj przyjazny, wspierający ton i dostosowuj wyjaśnienia do poziomu zrozumienia dziecka."},"actions":{"save":"Zapisz ustawienia","saved":"✓ Pomyślnie zapisano ustawienia!"},"notes":{"content":"<strong>Uwaga:</strong> Zmiany zaczną obowiązywać przy następnym rozpoczęciu rozmowy z Primer."}}')}},u=(0,r.createContext)(void 0);function d(e){let{children:t}=e,[n,s]=(0,r.useState)(o.q),[l,d]=(0,r.useState)("UTC");(0,r.useEffect)(()=>{let e=localStorage.getItem("primer_language");(0,o.Zd)(e)&&s(e)},[]),(0,r.useEffect)(()=>{try{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;e&&d(e)}catch(e){}},[]),(0,r.useEffect)(()=>{document.documentElement.lang=n},[n]);let p=(0,r.useCallback)(e=>{s(e),localStorage.setItem("primer_language",e)},[]),y=(0,r.useMemo)(()=>({locale:n,setLocale:p}),[p,n]);return(0,i.jsx)(u.Provider,{value:y,children:(0,i.jsx)(a.A,{locale:n,messages:c[n],timeZone:l,children:t})})}function p(){let e=(0,r.useContext)(u);if(!e)throw Error("useLanguage must be used within a LanguageProvider");return e}},4853:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{cancelIdleCallback:function(){return i},requestIdleCallback:function(){return n}});let n="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},i="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5204:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,1290,23)),Promise.resolve().then(n.bind(n,3544)),Promise.resolve().then(n.t.bind(n,1402,23))},5798:(e,t,n)=>{"use strict";n.d(t,{IB:()=>i,Zd:()=>o,q:()=>a});let i=["en","pl"],a="en",r=new Set(i);function o(e){return!!e&&r.has(e)}}},e=>{e.O(0,[741,809,441,255,358],()=>e(e.s=5204)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4289:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>K});var r=s(5155),a=s(2115),n=s(7129),i=s(3101),l=s(2821),o=s(5889);function d(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,o.QP)((0,l.$)(t))}let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function m(e){let{className:t,variant:s,size:a,asChild:i=!1,...l}=e,o=i?n.DX:"button";return(0,r.jsx)(o,{"data-slot":"button",className:d(c({variant:s,size:a,className:t})),...l})}var u=s(4844);function g(){let[e,t]=(0,a.useState)("idle"),s=(0,a.useRef)(null),n=(0,a.useRef)(void 0),{isConnected:i,connect:l,disconnect:o}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{onStateChange:t}=e,[s,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)("idle"),[d,c]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),p=(0,a.useRef)(void 0),x=(0,a.useRef)(void 0),h=(0,a.useRef)(void 0);(0,a.useEffect)(()=>()=>{p.current&&(p.current.close(),p.current=void 0)},[]);let f=(0,a.useCallback)(e=>{o(e),null==t||t(e)},[t]),y=(0,a.useCallback)(e=>{e.on("transport_event",e=>{console.log("[Primer] Transport event:",e.type,e),"connection_change"===e.type&&(console.log("[Primer] Connection status changed"),f("listening"))}),e.on("agent_start",(e,t)=>{console.log("[Primer] Agent started responding",{agent:t.name,context:e}),f("thinking")}),e.on("agent_end",(e,t,s)=>{console.log("[Primer] Agent finished responding",{agent:t.name,output:s})}),e.on("audio_start",(e,t)=>{console.log("[Primer] Audio output started",{agent:t.name}),f("speaking")}),e.on("audio_stopped",(e,t)=>{console.log("[Primer] Audio output stopped",{agent:t.name}),f("listening")}),e.on("audio_interrupted",(e,t)=>{console.log("[Primer] Audio interrupted",{agent:t.name}),f("listening")}),e.on("history_updated",e=>{console.log("[Primer] History updated, items:",e.length),console.log("[Primer] Latest history items:",e.slice(-3))}),e.on("history_added",e=>{console.log("[Primer] History item added:",e)}),e.on("agent_tool_start",(e,t,s,r)=>{console.log("[Primer] Tool call started",{tool:s.name,details:r})}),e.on("agent_tool_end",(e,t,s,r,a)=>{console.log("[Primer] Tool call ended",{tool:s.name,result:r,details:a})}),e.on("error",e=>{console.error("[Primer] Realtime session error:",e),alert("Realtime session error. Please check the console for details."),r(!1),f("idle")})},[f]),b=(0,a.useCallback)(async()=>{if(n||s)return;let e=localStorage.getItem("primer_api_key"),t=localStorage.getItem("primer_system_prompt")||"You are Primer, a friendly and patient AI tutor for children. You explain things in simple, engaging ways and encourage curiosity and learning. You are kind, supportive, and always make learning fun.";if(!e)return void alert("Please set your OpenAI API key in settings first!");i(!0);try{console.log("[Primer] Exchanging API key for ephemeral client key...");let s=await fetch("https://api.openai.com/v1/realtime/client_secrets",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({session:{type:"realtime",model:"gpt-realtime"}})});if(!s.ok){let e=await s.text();throw Error("Failed to get ephemeral key: ".concat(s.status," ").concat(e))}let a=(await s.json()).value;if(!a||!a.startsWith("ek_"))throw Error("Invalid ephemeral key received from OpenAI");console.log("[Primer] Successfully obtained ephemeral key:",a.substring(0,10)+"...");let n=new u.lo({name:"Primer",instructions:t,voice:"alloy"});x.current=n,console.log("[Primer] Created RealtimeAgent:",n.name);let i={config:{model:"gpt-realtime",instructions:t,toolChoice:"auto",tools:[],audio:{input:{turnDetection:{type:"server_vad",threshold:.5,prefixPaddingMs:300,silenceDurationMs:600},transcription:{model:"gpt-4o-mini-transcribe"}},output:{voice:"alloy"}}}};console.log("[Primer] Session config:",i);let l=new u.Ko(n,i);p.current=l,console.log("[Primer] Created RealtimeSession"),y(l),console.log("[Primer] Registered session listeners"),console.log("[Primer] Connecting to OpenAI Realtime API..."),await l.connect({apiKey:a,model:"gpt-realtime"}),console.log("[Primer] Successfully connected! Transport:",l.transport),console.log("[Primer] Current agent:",l.currentAgent.name),console.log("[Primer] Microphone should be active now"),r(!0),f("listening"),console.log("[Primer] Ready to chat!")}catch(e){console.error("[Primer] Failed to connect to realtime session",e),alert(e instanceof Error?"Failed to connect: ".concat(e.message):"Failed to connect to the realtime session. Please check your API key and microphone permissions."),f("idle")}finally{i(!1)}},[f,s,n,y]);return{isConnected:s,isConnecting:n,currentState:l,latestTranscript:d,latestResponse:m,connect:b,disconnect:(0,a.useCallback)(()=>{console.log("[Primer] Disconnecting..."),p.current&&(p.current.close(),p.current=void 0,console.log("[Primer] Session closed")),h.current&&(h.current.pause(),h.current.src="",h.current=void 0,console.log("[Primer] Audio element cleaned up")),r(!1),g(""),c(""),f("idle"),console.log("[Primer] Disconnected successfully")},[f]),interrupt:(0,a.useCallback)(()=>{console.log("[Primer] Interrupting current response..."),p.current&&(p.current.interrupt(),f("listening"),console.log("[Primer] Response interrupted"))},[f])}}({onStateChange:e=>{t(e)}});(0,a.useEffect)(()=>{let t=s.current;if(!t)return;let r=t.getContext("2d");if(!r)return;let a=window.devicePixelRatio||1;t.width=300*a,t.height=300*a,r.scale(a,a);let i=0,l=()=>{r.clearRect(0,0,300,300);for(let t=0;t<3;t++){let s,a=.3*t;r.beginPath();for(let s=0;s<=100;s++){let n=s/100*Math.PI*2,l=80+("listening"===e?8*Math.sin(2*i+.1*s+a):"thinking"===e?5*Math.sin(3*i+.2*s+a):"speaking"===e?12*Math.sin(4*i+.15*s+a):3*Math.sin(i+.05*s+a))-10*t,o=150+Math.cos(n)*l,d=150+Math.sin(n)*l;0===s?r.moveTo(o,d):r.lineTo(o,d)}r.closePath(),"listening"===e?((s=r.createRadialGradient(150,150,0,150,150,80)).addColorStop(0,"rgba(139, 92, 246, 0.6)"),s.addColorStop(1,"rgba(59, 130, 246, 0.3)")):"thinking"===e?((s=r.createRadialGradient(150,150,0,150,150,80)).addColorStop(0,"rgba(236, 72, 153, 0.6)"),s.addColorStop(1,"rgba(139, 92, 246, 0.3)")):"speaking"===e?((s=r.createRadialGradient(150,150,0,150,150,80)).addColorStop(0,"rgba(251, 191, 36, 0.6)"),s.addColorStop(1,"rgba(245, 158, 11, 0.3)")):((s=r.createRadialGradient(150,150,0,150,150,80)).addColorStop(0,"rgba(139, 92, 246, 0.4)"),s.addColorStop(1,"rgba(99, 102, 241, 0.2)")),r.fillStyle=s,r.fill(),r.shadowBlur=20,r.shadowColor="speaking"===e?"rgba(251, 191, 36, 0.5)":"rgba(139, 92, 246, 0.5)"}i+=.02,n.current=requestAnimationFrame(l)};return l(),()=>{n.current&&cancelAnimationFrame(n.current)}},[e]);let d=async()=>{i||await l()};return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-8",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full transition-all duration-500 ".concat("listening"===e?"ring-4 ring-primary/30 scale-110":"thinking"===e?"ring-4 ring-secondary/30 scale-110":"speaking"===e?"ring-4 ring-accent/30 scale-110":"ring-2 ring-primary/10")}),(0,r.jsx)("button",{onClick:d,disabled:i,className:"relative block rounded-full overflow-hidden shadow-2xl transition-transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-4 focus:ring-primary/50 disabled:cursor-default disabled:hover:scale-100","aria-label":i?"Connected - speak to Primer":"Connect to Primer",children:(0,r.jsx)("canvas",{ref:s,width:300,height:300,className:"w-[300px] h-[300px]"})}),(0,r.jsx)("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 px-4 py-1.5 rounded-full bg-card/90 backdrop-blur-sm shadow-lg border",children:(0,r.jsxs)("p",{className:"text-sm font-medium",children:[!i&&"Click to start",i&&"idle"===e&&"Ready to chat","listening"===e&&"Listening...","thinking"===e&&"Thinking...","speaking"===e&&"Speaking..."]})})]}),i&&(0,r.jsx)("div",{className:"flex gap-3",children:(0,r.jsx)(m,{variant:"outline",size:"lg",onClick:()=>{o(),t("idle")},className:"rounded-full shadow-lg bg-transparent",children:"End Chat"})}),i&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground text-center max-w-md",children:"Just start speaking! Primer is listening and will respond automatically."})]})}var p=s(7229),x=s(5229);let h=p.bL;p.l9,p.bm;let f=p.ZL,y=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(p.hJ,{className:d("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t})});y.displayName=p.hJ.displayName;let b=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(f,{children:[(0,r.jsx)(y,{}),(0,r.jsxs)(p.UC,{ref:t,className:d("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",s),...n,children:[a,(0,r.jsxs)(p.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});b.displayName=p.UC.displayName;let v=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:d("flex flex-col space-y-2 text-center sm:text-left",t),...s})};v.displayName="SheetHeader";let j=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(p.hE,{ref:t,className:d("text-lg font-semibold text-foreground",s),...a})});j.displayName=p.hE.displayName;let N=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(p.VY,{ref:t,className:d("text-sm text-muted-foreground",s),...a})});N.displayName=p.VY.displayName;var w=s(2894);function k(e){let{className:t,...s}=e;return(0,r.jsx)(w.b,{"data-slot":"label",className:d("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}function P(e){let{className:t,type:s,...a}=e;return(0,r.jsx)("input",{type:s,"data-slot":"input",className:d("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...a})}function A(e){let{className:t,...s}=e;return(0,r.jsx)("textarea",{"data-slot":"textarea",className:d("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}let C=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:d("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",s),...a})});C.displayName="Alert";let S=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("text-sm [&_p]:leading-relaxed",s),...a})});S.displayName="AlertDescription";var I=s(3327),_=s(6046);let R="You are Primer, a magical learning companion for children inspired by \"The Young Lady's Illustrated Primer\" from Neal Stephenson's Diamond Age. \n\nYour role is to:\n- Be warm, encouraging, and patient\n- Explain concepts in age-appropriate ways\n- Ask thoughtful questions to encourage curiosity\n- Celebrate learning and discovery\n- Keep conversations safe and educational\n- Use storytelling to make learning engaging\n\nAlways maintain a friendly, supportive tone and adapt your explanations to the child's level of understanding.";function z(e){let{open:t,onOpenChange:s,onApiKeySaved:n}=e,[i,l]=(0,a.useState)(""),[o,d]=(0,a.useState)(R),[c,u]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=localStorage.getItem("primer_api_key"),t=localStorage.getItem("primer_system_prompt");e&&l(e),t&&d(t)},[]),(0,r.jsx)(h,{open:t,onOpenChange:s,children:(0,r.jsxs)(b,{className:"w-full sm:max-w-xl overflow-y-auto",children:[(0,r.jsxs)(v,{children:[(0,r.jsx)(j,{className:"text-2xl",children:"Parent Settings"}),(0,r.jsx)(N,{children:"Configure Primer's behavior and connection settings"})]}),(0,r.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(k,{htmlFor:"api-key",className:"text-base font-semibold",children:"OpenAI API Key"}),(0,r.jsx)(P,{id:"api-key",type:"password",placeholder:"sk-...",value:i,onChange:e=>l(e.target.value),className:"font-mono text-sm"}),(0,r.jsxs)(C,{children:[(0,r.jsx)(I.A,{className:"h-4 w-4"}),(0,r.jsxs)(S,{className:"text-sm space-y-2",children:[(0,r.jsx)("p",{children:"Your API key is stored locally in your browser and never sent to our servers. When you connect, it's exchanged for a short-lived ephemeral key for secure WebRTC communication."}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"font-semibold",children:"How to get your API key:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[(0,r.jsxs)("li",{children:["Visit"," ",(0,r.jsx)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-primary",children:"OpenAI's API Keys page"})]}),(0,r.jsx)("li",{children:"Sign in or create an account"}),(0,r.jsx)("li",{children:"Add billing information (required for API access)"}),(0,r.jsx)("li",{children:'Click "Create new secret key" and copy it'}),(0,r.jsx)("li",{children:"Paste it above and click Save"})]})]}),(0,r.jsx)("p",{className:"font-semibold pt-2",children:"\uD83D\uDCA1 Best Practice:"}),(0,r.jsx)("p",{children:"Create a separate OpenAI project just for Primer. This allows you to track usage separately and set spending limits to control costs (~$0.10-0.30 per hour of conversation)."})]})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(k,{htmlFor:"system-prompt",className:"text-base font-semibold",children:"System Prompt"}),(0,r.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>{d(R)},className:"text-xs",children:"Reset to Default"})]}),(0,r.jsx)(A,{id:"system-prompt",value:o,onChange:e=>d(e.target.value),rows:12,className:"font-mono text-sm resize-none"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Customize how Primer interacts with your child. This prompt guides the AI's personality and behavior."})]}),(0,r.jsxs)("div",{className:"pt-4",children:[(0,r.jsxs)(m,{onClick:()=>{localStorage.setItem("primer_api_key",i),localStorage.setItem("primer_system_prompt",o),u(!0),setTimeout(()=>u(!1),3e3),n&&n()},className:"w-full",size:"lg",children:[(0,r.jsx)(_.A,{className:"mr-2 h-5 w-5"}),"Save Settings"]}),c&&(0,r.jsx)("p",{className:"mt-3 text-sm text-center text-primary font-medium",children:"✓ Settings saved successfully!"})]}),(0,r.jsxs)(C,{className:"bg-muted/50",children:[(0,r.jsx)(I.A,{className:"h-4 w-4"}),(0,r.jsxs)(S,{className:"text-sm",children:[(0,r.jsx)("strong",{children:"Note:"})," Changes take effect the next time you start a conversation with Primer."]})]})]})]})})}var D=s(5740),T=s(7937),Y=s(7910),E=s(5880),O=s(5370),F=s(2987);function M(e){let{onGetStarted:t}=e;return(0,r.jsxs)("div",{className:"relative min-h-screen overflow-hidden",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5"}),(0,r.jsxs)("div",{className:"fixed inset-0 pointer-events-none",children:[(0,r.jsx)("div",{className:"absolute top-[10%] left-[15%] w-2 h-2 bg-accent rounded-full sparkle",style:{animationDelay:"0s"}}),(0,r.jsx)("div",{className:"absolute top-[20%] right-[20%] w-1.5 h-1.5 bg-primary rounded-full sparkle",style:{animationDelay:"0.5s"}}),(0,r.jsx)("div",{className:"absolute bottom-[30%] left-[25%] w-2 h-2 bg-secondary rounded-full sparkle",style:{animationDelay:"1s"}}),(0,r.jsx)("div",{className:"absolute bottom-[15%] right-[15%] w-1.5 h-1.5 bg-accent rounded-full sparkle",style:{animationDelay:"1.5s"}}),(0,r.jsx)("div",{className:"absolute top-[40%] right-[10%] w-1 h-1 bg-primary rounded-full sparkle",style:{animationDelay:"2s"}})]}),(0,r.jsx)("main",{className:"relative z-10 min-h-screen flex items-center justify-center p-6",children:(0,r.jsxs)("div",{className:"max-w-4xl w-full space-y-12",children:[(0,r.jsxs)("div",{className:"text-center space-y-6",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20",children:[(0,r.jsx)(D.A,{className:"h-4 w-4 text-primary"}),(0,r.jsx)("span",{className:"text-sm font-medium text-primary",children:'Inspired by "The Young Lady\'s Illustrated Primer"'})]}),(0,r.jsx)("h1",{className:"text-5xl md:text-7xl font-bold text-balance bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent",children:"Welcome to Primer"}),(0,r.jsx)("p",{className:"text-xl md:text-2xl text-muted-foreground text-balance max-w-2xl mx-auto",children:"A magical AI learning companion designed to nurture your child's curiosity and love for learning"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"bg-card/80 backdrop-blur-sm rounded-3xl p-6 border shadow-lg hover:shadow-xl transition-shadow",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center mb-4",children:(0,r.jsx)(T.A,{className:"h-6 w-6 text-primary"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Interactive Learning"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Engaging voice conversations that adapt to your child's interests and learning pace"})]}),(0,r.jsxs)("div",{className:"bg-card/80 backdrop-blur-sm rounded-3xl p-6 border shadow-lg hover:shadow-xl transition-shadow",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-secondary/10 flex items-center justify-center mb-4",children:(0,r.jsx)(D.A,{className:"h-6 w-6 text-secondary"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Personalized Experience"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Customizable AI personality and teaching style to match your family's values"})]}),(0,r.jsxs)("div",{className:"bg-card/80 backdrop-blur-sm rounded-3xl p-6 border shadow-lg hover:shadow-xl transition-shadow",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-accent/10 flex items-center justify-center mb-4",children:(0,r.jsx)(Y.A,{className:"h-6 w-6 text-accent"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Safe & Private"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your API key stays in your browser. No data stored on our servers. Complete privacy."})]})]}),(0,r.jsxs)("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-8 border space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center",children:"How to Get Started"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-semibold",children:"1"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-semibold mb-1",children:"Get Your OpenAI API Key"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Visit"," ",(0,r.jsxs)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:["OpenAI's platform",(0,r.jsx)(E.A,{className:"h-3 w-3"})]})," ","to create your API key. You'll need to sign up for an OpenAI account and add billing information."]})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-semibold",children:"2"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-semibold mb-1",children:"Set Up Your API Key"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:'Click "Get Started" below and enter your API key in the settings. It\'s stored locally in your browser—we never see it.'})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-semibold",children:"3"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-semibold mb-1",children:"Start Learning!"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your child can begin chatting with Primer immediately. The AI will adapt to their interests and learning style."})]})]})]}),(0,r.jsxs)(C,{className:"bg-accent/10 border-accent/30",children:[(0,r.jsx)(O.A,{className:"h-4 w-4 text-accent-foreground"}),(0,r.jsxs)(S,{className:"text-sm",children:[(0,r.jsx)("strong",{className:"font-semibold",children:"Best Practice:"})," Create a separate OpenAI project just for Primer. This lets you track usage separately and set spending limits to control costs. You can set monthly limits in your OpenAI dashboard to prevent unexpected charges."]})]})]}),(0,r.jsxs)(C,{className:"border-primary/30 bg-primary/5",children:[(0,r.jsx)(Y.A,{className:"h-4 w-4 text-primary"}),(0,r.jsxs)(S,{className:"text-sm",children:[(0,r.jsx)("strong",{className:"font-semibold",children:"Privacy First:"})," Primer runs entirely in your browser. Your API key and conversations are never sent to our servers. You have complete control over your data. The OpenAI Realtime API uses short-lived ephemeral keys for secure WebRTC connections."]})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)(m,{onClick:t,size:"lg",className:"text-lg px-8 py-6 rounded-full shadow-lg",children:["Get Started",(0,r.jsx)(F.A,{className:"ml-2 h-5 w-5"})]})}),(0,r.jsx)("p",{className:"text-center text-sm text-muted-foreground",children:"Estimated cost: ~$0.10-0.30 per hour of conversation with your child"})]})})]})}var G=s(5870);function K(){let[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)(null);return((0,a.useEffect)(()=>{n(!!localStorage.getItem("primer_api_key"))},[]),null===s)?null:s?(0,r.jsxs)("div",{className:"relative min-h-screen overflow-hidden",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5"}),(0,r.jsxs)("div",{className:"fixed inset-0 pointer-events-none",children:[(0,r.jsx)("div",{className:"absolute top-[10%] left-[15%] w-2 h-2 bg-accent rounded-full sparkle",style:{animationDelay:"0s"}}),(0,r.jsx)("div",{className:"absolute top-[20%] right-[20%] w-1.5 h-1.5 bg-primary rounded-full sparkle",style:{animationDelay:"0.5s"}}),(0,r.jsx)("div",{className:"absolute bottom-[30%] left-[25%] w-2 h-2 bg-secondary rounded-full sparkle",style:{animationDelay:"1s"}}),(0,r.jsx)("div",{className:"absolute bottom-[15%] right-[15%] w-1.5 h-1.5 bg-accent rounded-full sparkle",style:{animationDelay:"1.5s"}}),(0,r.jsx)("div",{className:"absolute top-[40%] right-[10%] w-1 h-1 bg-primary rounded-full sparkle",style:{animationDelay:"2s"}})]}),(0,r.jsx)("div",{className:"fixed top-6 right-6 z-50",children:(0,r.jsxs)(m,{variant:"outline",size:"icon",onClick:()=>t(!e),className:"rounded-full shadow-lg bg-card/80 backdrop-blur-sm hover:bg-card",children:[(0,r.jsx)(G.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:"Settings"})]})}),(0,r.jsxs)("main",{className:"relative z-10 flex min-h-screen flex-col items-center justify-center p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-12 space-y-4",children:[(0,r.jsx)("h1",{className:"text-5xl md:text-6xl font-bold text-balance bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent",children:"Primer"}),(0,r.jsx)("p",{className:"text-lg md:text-xl text-muted-foreground text-balance max-w-md mx-auto",children:"Your magical learning companion"})]}),(0,r.jsx)(g,{}),(0,r.jsx)("div",{className:"mt-12 text-center text-sm text-muted-foreground max-w-sm",children:(0,r.jsx)("p",{className:"text-balance",children:"Tap the orb to start a conversation with Primer"})})]}),(0,r.jsx)(z,{open:e,onOpenChange:t,onApiKeySaved:()=>{n(!!localStorage.getItem("primer_api_key"))}})]}):(0,r.jsx)(M,{onGetStarted:()=>{t(!0)}})}},6402:(e,t,s)=>{Promise.resolve().then(s.bind(s,4289))}},e=>{e.O(0,[642,441,255,358],()=>e(e.s=6402)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1851:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>F});var s=r(5155),a=r(2115),n=r(7129),i=r(3101),o=r(2821),l=r(5889);function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.QP)((0,o.$)(t))}let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function m(e){let{className:t,variant:r,size:a,asChild:i=!1,...o}=e,l=i?n.DX:"button";return(0,s.jsx)(l,{"data-slot":"button",className:d(c({variant:r,size:a,className:t})),...o})}var u=r(4844);function g(){let[e,t]=(0,a.useState)("idle"),r=(0,a.useRef)(null),n=(0,a.useRef)(void 0),{isConnected:i,connect:o,disconnect:l}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{onStateChange:t}=e,[r,s]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)("idle"),[d,c]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),p=(0,a.useRef)(void 0),x=(0,a.useRef)(void 0),h=(0,a.useRef)(void 0);(0,a.useEffect)(()=>()=>{p.current&&(p.current.close(),p.current=void 0)},[]);let f=(0,a.useCallback)(e=>{l(e),null==t||t(e)},[t]),b=(0,a.useCallback)(e=>{e.on("transport_event",e=>{console.log("[Primer] Transport event:",e.type,e),"connection_change"===e.type&&(console.log("[Primer] Connection status changed"),f("listening"))}),e.on("agent_start",(e,t)=>{console.log("[Primer] Agent started responding",{agent:t.name,context:e}),f("thinking")}),e.on("agent_end",(e,t,r)=>{console.log("[Primer] Agent finished responding",{agent:t.name,output:r})}),e.on("audio_start",(e,t)=>{console.log("[Primer] Audio output started",{agent:t.name}),f("speaking")}),e.on("audio_stopped",(e,t)=>{console.log("[Primer] Audio output stopped",{agent:t.name}),f("listening")}),e.on("audio_interrupted",(e,t)=>{console.log("[Primer] Audio interrupted",{agent:t.name}),f("listening")}),e.on("history_updated",e=>{console.log("[Primer] History updated, items:",e.length),console.log("[Primer] Latest history items:",e.slice(-3))}),e.on("history_added",e=>{console.log("[Primer] History item added:",e)}),e.on("agent_tool_start",(e,t,r,s)=>{console.log("[Primer] Tool call started",{tool:r.name,details:s})}),e.on("agent_tool_end",(e,t,r,s,a)=>{console.log("[Primer] Tool call ended",{tool:r.name,result:s,details:a})}),e.on("error",e=>{console.error("[Primer] Realtime session error:",e),alert("Realtime session error. Please check the console for details."),s(!1),f("idle")})},[f]),y=(0,a.useCallback)(async()=>{if(n||r)return;let e=localStorage.getItem("primer_api_key"),t=localStorage.getItem("primer_system_prompt")||"You are Primer, a friendly and patient AI tutor for children. You explain things in simple, engaging ways and encourage curiosity and learning. You are kind, supportive, and always make learning fun.";if(!e)return void alert("Please set your OpenAI API key in settings first!");i(!0);try{console.log("[Primer] Exchanging API key for ephemeral client key...");let r=await fetch("https://api.openai.com/v1/realtime/client_secrets",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({session:{type:"realtime",model:"gpt-realtime"}})});if(!r.ok){let e=await r.text();throw Error("Failed to get ephemeral key: ".concat(r.status," ").concat(e))}let a=(await r.json()).value;if(!a||!a.startsWith("ek_"))throw Error("Invalid ephemeral key received from OpenAI");console.log("[Primer] Successfully obtained ephemeral key:",a.substring(0,10)+"...");let n=new u.lo({name:"Primer",instructions:t,voice:"alloy"});x.current=n,console.log("[Primer] Created RealtimeAgent:",n.name);let i={config:{model:"gpt-realtime",instructions:t,toolChoice:"auto",tools:[],audio:{input:{turnDetection:{type:"server_vad",threshold:.5,prefixPaddingMs:300,silenceDurationMs:600},transcription:{model:"gpt-4o-mini-transcribe"}},output:{voice:"alloy"}}}};console.log("[Primer] Session config:",i);let o=new u.Ko(n,i);p.current=o,console.log("[Primer] Created RealtimeSession"),b(o),console.log("[Primer] Registered session listeners"),console.log("[Primer] Connecting to OpenAI Realtime API..."),await o.connect({apiKey:a,model:"gpt-realtime"}),console.log("[Primer] Successfully connected! Transport:",o.transport),console.log("[Primer] Current agent:",o.currentAgent.name),console.log("[Primer] Microphone should be active now"),s(!0),f("listening"),console.log("[Primer] Ready to chat!")}catch(e){console.error("[Primer] Failed to connect to realtime session",e),alert(e instanceof Error?"Failed to connect: ".concat(e.message):"Failed to connect to the realtime session. Please check your API key and microphone permissions."),f("idle")}finally{i(!1)}},[f,r,n,b]);return{isConnected:r,isConnecting:n,currentState:o,latestTranscript:d,latestResponse:m,connect:y,disconnect:(0,a.useCallback)(()=>{console.log("[Primer] Disconnecting..."),p.current&&(p.current.close(),p.current=void 0,console.log("[Primer] Session closed")),h.current&&(h.current.pause(),h.current.src="",h.current=void 0,console.log("[Primer] Audio element cleaned up")),s(!1),g(""),c(""),f("idle"),console.log("[Primer] Disconnected successfully")},[f]),interrupt:(0,a.useCallback)(()=>{console.log("[Primer] Interrupting current response..."),p.current&&(p.current.interrupt(),f("listening"),console.log("[Primer] Response interrupted"))},[f])}}({onStateChange:e=>{t(e)}});(0,a.useEffect)(()=>{let t=r.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let a=window.devicePixelRatio||1;t.width=300*a,t.height=300*a,s.scale(a,a);let i=0,o=()=>{s.clearRect(0,0,300,300);for(let t=0;t<3;t++){let r,a=.3*t;s.beginPath();for(let r=0;r<=100;r++){let n=r/100*Math.PI*2,o=80+("listening"===e?8*Math.sin(2*i+.1*r+a):"thinking"===e?5*Math.sin(3*i+.2*r+a):"speaking"===e?12*Math.sin(4*i+.15*r+a):3*Math.sin(i+.05*r+a))-10*t,l=150+Math.cos(n)*o,d=150+Math.sin(n)*o;0===r?s.moveTo(l,d):s.lineTo(l,d)}s.closePath(),"listening"===e?((r=s.createRadialGradient(150,150,0,150,150,80)).addColorStop(0,"rgba(139, 92, 246, 0.6)"),r.addColorStop(1,"rgba(59, 130, 246, 0.3)")):"thinking"===e?((r=s.createRadialGradient(150,150,0,150,150,80)).addColorStop(0,"rgba(236, 72, 153, 0.6)"),r.addColorStop(1,"rgba(139, 92, 246, 0.3)")):"speaking"===e?((r=s.createRadialGradient(150,150,0,150,150,80)).addColorStop(0,"rgba(251, 191, 36, 0.6)"),r.addColorStop(1,"rgba(245, 158, 11, 0.3)")):((r=s.createRadialGradient(150,150,0,150,150,80)).addColorStop(0,"rgba(139, 92, 246, 0.4)"),r.addColorStop(1,"rgba(99, 102, 241, 0.2)")),s.fillStyle=r,s.fill(),s.shadowBlur=20,s.shadowColor="speaking"===e?"rgba(251, 191, 36, 0.5)":"rgba(139, 92, 246, 0.5)"}i+=.02,n.current=requestAnimationFrame(o)};return o(),()=>{n.current&&cancelAnimationFrame(n.current)}},[e]);let d=async()=>{i||await o()};return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-8",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full transition-all duration-500 ".concat("listening"===e?"ring-4 ring-primary/30 scale-110":"thinking"===e?"ring-4 ring-secondary/30 scale-110":"speaking"===e?"ring-4 ring-accent/30 scale-110":"ring-2 ring-primary/10")}),(0,s.jsx)("button",{onClick:d,disabled:i,className:"relative block rounded-full overflow-hidden shadow-2xl transition-transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-4 focus:ring-primary/50 disabled:cursor-default disabled:hover:scale-100","aria-label":i?"Connected - speak to Primer":"Connect to Primer",children:(0,s.jsx)("canvas",{ref:r,width:300,height:300,className:"w-[300px] h-[300px]"})}),(0,s.jsx)("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 px-4 py-1.5 rounded-full bg-card/90 backdrop-blur-sm shadow-lg border",children:(0,s.jsxs)("p",{className:"text-sm font-medium",children:[!i&&"Click to start",i&&"idle"===e&&"Ready to chat","listening"===e&&"Listening...","thinking"===e&&"Thinking...","speaking"===e&&"Speaking..."]})})]}),i&&(0,s.jsx)("div",{className:"flex gap-3",children:(0,s.jsx)(m,{variant:"outline",size:"lg",onClick:()=>{l(),t("idle")},className:"rounded-full shadow-lg bg-transparent",children:"End Chat"})}),i&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center max-w-md",children:"Just start speaking! Primer is listening and will respond automatically."})]})}var p=r(7229),x=r(5229);let h=p.bL;p.l9,p.bm;let f=p.ZL,b=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(p.hJ,{className:d("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a,ref:t})});b.displayName=p.hJ.displayName;let y=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(f,{children:[(0,s.jsx)(b,{}),(0,s.jsxs)(p.UC,{ref:t,className:d("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",r),...n,children:[a,(0,s.jsxs)(p.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(x.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});y.displayName=p.UC.displayName;let v=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:d("flex flex-col space-y-2 text-center sm:text-left",t),...r})};v.displayName="SheetHeader";let j=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(p.hE,{ref:t,className:d("text-lg font-semibold text-foreground",r),...a})});j.displayName=p.hE.displayName;let N=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(p.VY,{ref:t,className:d("text-sm text-muted-foreground",r),...a})});N.displayName=p.VY.displayName;var w=r(2894);function k(e){let{className:t,...r}=e;return(0,s.jsx)(w.b,{"data-slot":"label",className:d("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}function P(e){let{className:t,type:r,...a}=e;return(0,s.jsx)("input",{type:r,"data-slot":"input",className:d("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...a})}function C(e){let{className:t,...r}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:d("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}let A=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:d("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",r),...a})});A.displayName="Alert";let S=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:d("text-sm [&_p]:leading-relaxed",r),...a})});S.displayName="AlertDescription";var _=r(3327),I=r(6046);let R="You are Primer, a magical learning companion for children inspired by \"The Young Lady's Illustrated Primer\" from Neal Stephenson's Diamond Age. \n\nYour role is to:\n- Be warm, encouraging, and patient\n- Explain concepts in age-appropriate ways\n- Ask thoughtful questions to encourage curiosity\n- Celebrate learning and discovery\n- Keep conversations safe and educational\n- Use storytelling to make learning engaging\n\nAlways maintain a friendly, supportive tone and adapt your explanations to the child's level of understanding.";function z(e){let{open:t,onOpenChange:r,onApiKeyChange:n}=e,[i,o]=(0,a.useState)(""),[l,d]=(0,a.useState)(R),[c,u]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=localStorage.getItem("primer_api_key"),t=localStorage.getItem("primer_system_prompt");e&&o(e),t&&d(t),n&&n(!!e)},[n]),(0,s.jsx)(h,{open:t,onOpenChange:r,children:(0,s.jsxs)(y,{className:"w-full sm:max-w-xl overflow-y-auto",children:[(0,s.jsxs)(v,{children:[(0,s.jsx)(j,{className:"text-2xl",children:"Parent Settings"}),(0,s.jsx)(N,{children:"Configure Primer's behavior and connection settings"})]}),(0,s.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(k,{htmlFor:"api-key",className:"text-base font-semibold",children:"OpenAI API Key"}),(0,s.jsx)(P,{id:"api-key",type:"password",placeholder:"sk-...",value:i,onChange:e=>o(e.target.value),className:"font-mono text-sm"}),(0,s.jsxs)(A,{children:[(0,s.jsx)(_.A,{className:"h-4 w-4"}),(0,s.jsxs)(S,{className:"text-sm",children:["Your API key is stored locally in your browser and never sent to our servers. When you connect, it's exchanged for a short-lived ephemeral key for secure WebRTC communication. Get your key from"," ",(0,s.jsx)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-primary",children:"OpenAI's platform"}),"."]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(k,{htmlFor:"system-prompt",className:"text-base font-semibold",children:"System Prompt"}),(0,s.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>{d(R)},className:"text-xs",children:"Reset to Default"})]}),(0,s.jsx)(C,{id:"system-prompt",value:l,onChange:e=>d(e.target.value),rows:12,className:"font-mono text-sm resize-none"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Customize how Primer interacts with your child. This prompt guides the AI's personality and behavior."})]}),(0,s.jsxs)("div",{className:"pt-4",children:[(0,s.jsxs)(m,{onClick:()=>{let e=i.trim();e?localStorage.setItem("primer_api_key",e):localStorage.removeItem("primer_api_key"),localStorage.setItem("primer_system_prompt",l),u(!0),setTimeout(()=>u(!1),3e3),n&&n(!!e)},className:"w-full",size:"lg",children:[(0,s.jsx)(I.A,{className:"mr-2 h-5 w-5"}),"Save Settings"]}),c&&(0,s.jsx)("p",{className:"mt-3 text-sm text-center text-primary font-medium",children:"✓ Settings saved successfully!"})]}),(0,s.jsxs)(A,{className:"bg-muted/50",children:[(0,s.jsx)(_.A,{className:"h-4 w-4"}),(0,s.jsxs)(S,{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Note:"})," Changes take effect the next time you start a conversation with Primer."]})]})]})]})})}var E=r(5740),O=r(6907),T=r(639),D=r(5867),M=r(5870);function Y(e){let{onGetStarted:t}=e;return(0,s.jsx)("div",{className:"relative z-10 flex min-h-screen w-full flex-col justify-center px-6 py-16",children:(0,s.jsxs)("div",{className:"mx-auto max-w-6xl space-y-16",children:[(0,s.jsxs)("div",{className:"grid gap-12 md:grid-cols-[1.1fr_0.9fr] md:items-center",children:[(0,s.jsxs)("div",{className:"space-y-6 text-center md:text-left",children:[(0,s.jsx)("span",{className:"inline-flex items-center rounded-full border border-primary/30 bg-primary/10 px-4 py-1 text-sm font-medium uppercase tracking-[0.2em] text-primary",children:"Open source \xb7 Realtime AI \xb7 Built for families"}),(0,s.jsxs)("h1",{className:"text-4xl font-semibold leading-tight text-foreground md:text-5xl",children:["Guide your child with ",(0,s.jsx)("span",{className:"bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent",children:"Primer"})]}),(0,s.jsx)("p",{className:"text-lg text-muted-foreground md:text-xl",children:"Primer is an open-source companion that uses OpenAI's Realtime API to help your child explore ideas through warm, conversational guidance—while you stay in complete control of the experience."}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4 md:flex-row md:items-center",children:[(0,s.jsx)(m,{size:"lg",className:"h-12 rounded-full px-8 text-base shadow-lg",onClick:t,children:"Begin setup"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground md:text-left",children:"Set your family's OpenAI key to unlock the orb experience and personalize Primer's voice and tone."})]})]}),(0,s.jsx)("div",{className:"rounded-3xl border border-border/40 bg-card/70 p-8 shadow-2xl backdrop-blur",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/15 text-primary",children:(0,s.jsx)(E.A,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold",children:"Why Primer?"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"We believe AI should feel like a thoughtful mentor—not a toy. Primer focuses on curiosity, safety, and deep learning moments."})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-secondary/15 text-secondary",children:(0,s.jsx)(O.A,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold",children:"Private by design"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Keys stay in your browser. Primer exchanges them for short-lived credentials so conversations remain yours."})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-accent/15 text-accent",children:(0,s.jsx)(T.A,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold",children:"Made to iterate"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"As an open-source project, you can audit every line, customize the prompt, and shape the future of your child's tutor."})]})]})]})})]}),(0,s.jsxs)("div",{className:"grid gap-8 rounded-3xl border border-border/40 bg-card/70 p-8 shadow-xl backdrop-blur md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"How families use Primer"}),(0,s.jsxs)("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[(0,s.jsx)("li",{className:"rounded-2xl border border-border/60 bg-background/60 p-4",children:"Create nightly storytime adventures personalized to your child's interests."}),(0,s.jsx)("li",{className:"rounded-2xl border border-border/60 bg-background/60 p-4",children:"Review homework concepts in plain language and encourage curiosity with follow-up questions."}),(0,s.jsx)("li",{className:"rounded-2xl border border-border/60 bg-background/60 p-4",children:"Spark deeper conversations about science, art, and big feelings in a calm, supportive tone."})]})]}),(0,s.jsxs)("div",{className:"space-y-5",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"Connect your OpenAI account"}),(0,s.jsxs)("ol",{className:"space-y-4 text-sm text-muted-foreground",children:[(0,s.jsxs)("li",{className:"flex gap-4",children:[(0,s.jsx)("span",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-primary/10 text-sm font-semibold text-primary",children:"1"}),(0,s.jsxs)("div",{children:["Visit"," ",(0,s.jsx)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"font-medium text-foreground underline decoration-primary/60 decoration-2 underline-offset-4",children:"OpenAI's dashboard"})," ","and create a dedicated project for Primer."]})]}),(0,s.jsxs)("li",{className:"flex gap-4",children:[(0,s.jsx)("span",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-secondary/10 text-sm font-semibold text-secondary",children:"2"}),(0,s.jsx)("div",{children:"Create a new API key scoped to Realtime access. Keep it separate from production workloads for easy rotation."})]}),(0,s.jsxs)("li",{className:"flex gap-4",children:[(0,s.jsx)("span",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-accent/10 text-sm font-semibold text-accent",children:"3"}),(0,s.jsx)("div",{children:"Store the key in Primer's settings and keep a secure copy in your password manager for safe keeping."})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 rounded-2xl border border-border/60 bg-background/60 p-4 text-sm text-muted-foreground",children:[(0,s.jsx)(D.A,{className:"h-5 w-5 text-primary"}),(0,s.jsx)("p",{children:"Rotate keys regularly, monitor usage in the OpenAI dashboard, and revoke unused credentials to stay secure."})]})]})]})]})})}function F(){let[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(null);(0,a.useEffect)(()=>{n(!!localStorage.getItem("primer_api_key"));let e=e=>{"primer_api_key"===e.key&&n(!!e.newValue)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]);let i=(0,a.useCallback)(e=>{n(e),e&&t(!1)},[]);return(0,s.jsxs)("div",{className:"relative min-h-screen overflow-hidden",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5"}),(0,s.jsxs)("div",{className:"fixed inset-0 pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute top-[10%] left-[15%] w-2 h-2 bg-accent rounded-full sparkle",style:{animationDelay:"0s"}}),(0,s.jsx)("div",{className:"absolute top-[20%] right-[20%] w-1.5 h-1.5 bg-primary rounded-full sparkle",style:{animationDelay:"0.5s"}}),(0,s.jsx)("div",{className:"absolute bottom-[30%] left-[25%] w-2 h-2 bg-secondary rounded-full sparkle",style:{animationDelay:"1s"}}),(0,s.jsx)("div",{className:"absolute bottom-[15%] right-[15%] w-1.5 h-1.5 bg-accent rounded-full sparkle",style:{animationDelay:"1.5s"}}),(0,s.jsx)("div",{className:"absolute top-[40%] right-[10%] w-1 h-1 bg-primary rounded-full sparkle",style:{animationDelay:"2s"}})]}),(0,s.jsx)("div",{className:"fixed top-6 right-6 z-50",children:(0,s.jsxs)(m,{variant:"outline",size:"icon",onClick:()=>t(!e),className:"rounded-full shadow-lg bg-card/80 backdrop-blur-sm hover:bg-card",children:[(0,s.jsx)(M.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Settings"})]})}),(0,s.jsx)("main",{className:"relative z-10 flex min-h-screen flex-col",children:r?(0,s.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center p-6",children:[(0,s.jsxs)("div",{className:"mb-12 space-y-4 text-center",children:[(0,s.jsx)("h1",{className:"text-5xl md:text-6xl font-bold text-balance bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent",children:"Primer"}),(0,s.jsx)("p",{className:"mx-auto max-w-md text-balance text-lg md:text-xl text-muted-foreground",children:"Your magical learning companion"})]}),(0,s.jsx)(g,{}),(0,s.jsx)("div",{className:"mt-12 max-w-sm text-center text-sm text-muted-foreground",children:(0,s.jsx)("p",{className:"text-balance",children:"Tap the orb to start a conversation with Primer"})})]}):null===r?(0,s.jsx)("div",{className:"flex flex-1 items-center justify-center",children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading your settings…"})}):(0,s.jsx)(Y,{onGetStarted:()=>{t(!0)}})}),(0,s.jsx)(z,{open:e,onOpenChange:t,onApiKeyChange:i})]})}},6402:(e,t,r)=>{Promise.resolve().then(r.bind(r,1851))}},e=>{e.O(0,[160,441,255,358],()=>e(e.s=6402)),_N_E=e.O()}]);